<!-- Support_hist.html -->	
<!-- Created by Carol Clark on 17 Aug 2011 for project Support. -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Support History</title>
	<link rel="stylesheet" type="text/css" href="../css/history.css" />
</head>
<body>
<div class='navhead'><a name='Top'></a><table class='navhead'><col class='navhead_c1' /><tr> <td>[<a href="../Support/Support.html">Support</a>]</td> <td >[<a href="Support_hist.html#hmark_Current">Current</a>]</td><td class='right'>[<a href="#Contents">Contents</a>]</td></tr></table></div>
<h1>Support History</h1>

<!-- @topicList "Support History" "Contents" -->
	<!-- @topicItem "Active" "#hmark_Active" "0" "" -->
		<!-- @topicItem "Current" "#hmark_Current" "1" "" -->
		<!-- @topicGroup "" "3" -->
		<!-- @topicItem "Transfer Existing Development Work" "#transferExisting" "1" "" -->
			<!-- @topicItem "Transfer Existing: Setup" "#transferExisting_setup" "2" "" -->
		<!-- @topicGroup "" "6" -->
		<!-- @topicItem "Other Active" "#otherActive" "1" "" -->
			<!-- @topicItem "Automation Support" "#_automation" "2" "" -->
	<!-- @topicGroup "" "9" -->
	<!-- @topicItem "ToDo" "#hmark_ToDo" "0" "" -->
	<!-- @topicGroup "" "11" -->
	<!-- @topicItem "Completed" "#hmark_Completed" "0" "" -->
<!-- @/topicList -->

<!-- @marker "1 === Active" --><p class='tlhead'>&lt;-- Active</p>
<h2 id='hmark_Active'>Active</h2>

<!-- @marker "Transfer Existing Development Work" -->
<h4 id="transferExisting">Transfer Existing Development Work</h4>

	<!-- @marker "Transfer Existing: Setup" -->
	<h5 id="transferExisting_setup">Transfer Existing: Setup</h5><ul>
		<li class='blurb'>There have been major changes in our development environment, including replacing Subversion with Git for Source Control. All existing projects, along with any still-active functionality, will be transferred into the new system.</li>
		<li><a href="#transferExisting_compl"><i>(completed)</i></a></li>
		<li>[historyWorkflow] Improve Cdoc History File Workflow [<a href="#_cdocdev">_cdocdev</a>]<ul>
			<li>standardize existing history documents</li>
			<li>add file templates ReadMe.html, CdocFile.html, HistoryFile.html</li>
			<li>revert creation of new project TechnicalDocs (a false start)</li>
			<li>Restructure this file to tie history information more effectively with associated branches and to reduce detail recorded within a development cycle.</li>
			<li>Support_hist.html: reorder to do sections; move completed tasks into their section</li>
			<li>synchronize Punkin_hist.html</li>
			<li>Xcode:Script:go marker: workflow goMarker supports moving within a document to predefined markers [<a href="#_xcode">_xcode</a>]<ul>
				<li>Accessor event<ul>
					<li>Automator action<ul>
						<li>AppleScript: get contents of Xcode's front document</li>
						<li>ruby: grep and process list of markers</li>
						<li>new BBEdit document with contents</li>
					</ul></li>
					<li>BBEdit: go to line; accept line number; select line's content; enter find string; go to Xcode; find again</li>
				</ul></li>
				<li>Xcode.install: install workflows at ~/Library/Scripts/Xcode</li>
			</ul></li>
			<li>goMarker.workflow: remove code specific to HTML markers in preparation for extending to other file types</li>
			<li>Xcode.install: correct problems with creating derived directory folder and excluding *.install files; change expected directory and drop Project parameter; continued refactoring</li>
			<li>Xcode.r: clean up _FileNewStandards_</li>
			<li>TechnicalDocs<ul>
				<li>history documents: add a header level to section Active to provide for splitting larger topics into smaller sections</li>
				<li>corrections to Support_svn (this project's predecessor) docs to allow BBEdit:Validate All to pass</li>
			</ul></li>
		</ul></li>
		<!-- @marker "3 === Current" --><li class='tlhead' id='hmark_Current'>&lt;-- Current</li>
		<li>[_ccdev_install] CCDev.install<ul>
			<li>Xcode.install processes files by folder</li>
			<li>refactor reusable functionality from Xcode.install into separate script ccInstall<ul>
				<li>new files ccInstall.func (extension dropped by installer), CCDev.install, CCDev/_Tests/TestCCDev.ksh: extract/refactor from Xcode.install</li>
				<li>ccInstall --params<ul>
					<li class='impl'>$*: string containing all arguments</li>
					<li class='impl'>file getobj: (use technique to read parameters in a separate function)	
						#! /bin/ksh
						
						function getobj {
						typeset -n obj=$1
						obj=( first="a" second="b" third="${2}")
						}
						
						caller:
						#! /bin/ksh
					
						getobj myobj "Hello"
						print $myobj
						#( first=a second=b third=Hello )</li>
				</ul></li>
				<li>ccInstall --findFiles: verify parameters, generates sources_&lt;target&gt; and tests_&lt;target&gt; at $CCDev/build/&lt;Project&gt;</li>
				<li>CCDev.install (new): copies ~/Dev/Support/CCDev/Scripts/ccInstall.func to ~/CCDev/func/ccInstall</li>
			</ul></li>
		</ul></li>
		<li>add build target Cdoc [<a href="#_cdocdev">_cdocdev</a>]</li>
		<li>Support import: plan import of remaining Support features [<a href="#_devimport">_devimport</a>]</li>
		<li>plan import of remaining existing projects [<a href="#_devimport">_devimport</a>]</li>
	</ul>

<!-- @marker "Other Active" -->
<h4 id="otherActive">Other Active</h4>

<!-- @marker "Automation Support" -->
	<h5 id="_automation">Automation Support</h5><ul>
		<li class='tlmark'>&lt;--</li>
	</ul>

<!-- @marker "5 === ToDo" --><p class='tlhead'>&lt;-- ToDo</p>
<h2>ToDo</h2>
<!-- @topicList "ToDo" "hmark_ToDo" -->
	<!-- @topicItem "In-House Documentation " "#_cdoc" "0" "" -->
	<!-- @topicItem "Development Environment " "#_ccdev" "0" "" -->
	<!-- @topicItem "Git Workflow " "#_git" "0" "" -->
	<!-- @topicItem "Import Existing Projects" "#_devimport" "0" "" -->
	<!-- @topicItem "Cdoc: In-House Documentation System " "#_cdocdev" "0" "" -->
	<!-- @topicItem "Accessor's UserSlates" "#_userSlates" "0" "" -->
	<!-- @topicSep -->
	<!-- @topicGroup "Apps and Tools" "8" -->
	<!-- @topicItem "Xcode " "#_xcode" "0" "" -->
	<!-- @topicItem "Terminal " "#_terminal" "0" "" -->
	<!-- @topicItem "BBEdit " "#_bbedit" "0" "" -->
	<!-- @topicItem "Finder " "#_finder" "0" "" -->
<!-- @/topicList -->

	<!-- @marker "In-House Documentation [_cdoc]" -->
	<h4 id='_cdoc'>In-House Documentation <span class='ttag'>[_cdoc]</span></h4><ul>
		<li>replace $Id fields with filenames</li>
		<li>Support_svn history: move content to be preserved into Support files; new file SubversionServer for information, mostly obsolete, about that topic</li>
		<li>update 'todo' sections</li>
		<li>specify new threads for remaining content to be transferred from Support_svn (recent) and DevSupport (older) to Support</li>
		<li>Tools.html: clean up headings within topics (search for "Installation and Configuration")</li>
	</ul>
	
	<!-- @marker "Development Environment [_ccdev]" -->
	<h4 id='_ccdev'>Development Environment <span class='ttag'>[_ccdev]</span></h4><ul>
		<li id='_ccdev_importSupport'>Import from existing Support_svn [_ccdev_importSupport]<ul>
			<li>Support: import plan<ul>
				<li class='blurb'>Snippets: import snippet code from Support_svn target BBEdit (do not restrict to BBEdit)</li>
				<li>ccBackup issues<ul>
					<li>.git folders: object files are locked, so ccBackup fails when it tries to update an existing .git folder<ul>
						<li class='blurb'>It appears that all of these files have identical creation and modification dates, which suggests that existing files do not get overwritten. If so, writing only files that have changed since the last backup should solve the problem.</li>
					</ul></li>
					<li>Files that cannot be copied currently abort the backup. Try letting the backup continue, and print a warning at the end summarizing the files that could not be copied.</li>
				</ul></li>
			</ul></li>
		</ul></li>
		<li id='_ccdev_setup'>Target Setup [_ccdev_setup]<ul>
			<li>Create Unix-only target that sets up our development environment. Setup's script can be run independently of Xcode, and is run prior to attempting to build any other targets or do other development tasks.</li>
			<li>determine features to be imported from existing Support_svn target CCDev</li>
			<li>create new  Mac OS X Bundle target Setup; remove Link Binary with Frameworks and Copy Bundle Resources build phases</li>
			<li>script Setup.build based on Support_svn:CCDev.build</li>
		</ul></li>
	</ul>
	
	<!-- @marker "Git Workflow [_git]" -->
	<h4 id='_git'>Git Workflow <span class='ttag'>[_git]</span></h4><ul>
		<li>new file Git.html: establish workflows for project setup; status and commit; stash; remove squash; branch; merge; undo<ul>
			<li class='blurb'>Contains notes made during creation of this Support repository.</li>
		</ul></li>
		<li>Support.html: Source Control<ul>
			<li>reorganize to address both svn and git</li>
		</ul></li>
		<li>new fileset Git.r: provides content that can be included in Slates for applications that use Git commands</li>
	</ul>
	
	<!-- @marker "Import Existing Projects" -->
	<h4 id="_devimport">Import Existing Projects</h4><ul>
		<li>Accessor: new workspace Accessor contains existing Xcode project Accessor_C9 ( ! existing svn repository is not working)</li>
		<li>Support<ul>
			<li>add Support_svn, DevSupport to workspace for now</li>
			<li>plan import of remaining features</li>
		</ul></li>
		<li>Arbonne: new workspace Arbonne contains existing Xcode projects ArbonneProto and ArbonneFM</li>
		<li>WebGen: move generated sites to ~/Documents; transfer information as needed from WebGen docs to Support:PersonalSitep</li>
		<li>retire Koala_Try2, Koala_Try1, MyLibrary: These were an attempt to establish building and using a Framework. However, iOS requires apps to be self-contained, so code sharing will need to be done2 another way, probably with static libraries, in the future.</li>
	</ul>
	
	<!-- @marker "In-House Documentation System [_cdocdev]" -->
	<h4 id='_cdocdev'>In-House Documentation System <span class='ttag'>[_cdocdev]</span></h4><ul>
		<li>BuildSupport target Cdoc<ul>
			<li>add Bundle target Cdoc_Support; remove Compile Bundle Resources, Link Binary with Libraries and Copy Bundle Resources build phases</li>
			<li>add Run Script build phase Build Cdoc: <span class='mono'>buildCdoc ${TARGET_BUILD_DIR}</span></li>
			<li>make new scheme shared</li>
			<li>build and test</li>
		</ul></li>
	</ul>
	
	<!-- @marker "Speech Recognition Support [_userSlates]" -->
	<h4	id='_userSlates'>Speech Recognition Support <span class='ttag'>[_userSlates]</span></h4><ul>
	</ul>

	<!-- @marker "Xcode [_xcode]" -->
	<h4 id='_xcode'>Xcode <span class='ttag'>[_xcode]</span></h4><ul>
		<li>Scripts and Workflows<ul>
			<li class='blurb'>assistive access:<ul>
				<li>shell scripts: add to Behaviors</li>
				<li>AppleScripts, Workflows: add to scripts menu; Slates call file directly</li>
				<li>to call ruby from Accessor: <span class='mono'>do shell script "/usr/bin/ruby ~/CCDev/hello.rb"</span></li>
			</ul></li>
			<li>ViewInBrowser</li>
			<li>Snippets<ul>
				<li>Accessor: enter Snippet line with parameters</li>
				<li>User: replace parameters; select line</li>
				<li>Automator: AppleScript to get selected text; pass to BBEdit's Snippets script; leave result on pasteboard</li>
				<li>User or Accessor: paste in result</li>
			</ul></li>
			<li>AppleScript/OSA techniques<ul>
				<li>for clean, upload Behaviors: <span class='mono'>tell application "Xcode" to return name of active target of project of active project document</span></li>
				<li><span class='mono'>tell application id "com.apple.dt.Xcode" to set windowname to name of window 1</span>; then <span class='mono'>word 1 of windowname</span> is Project name, <span class='mono'>word -1 of windowname</span> is filename</li>
				<li>getAllAndSelectedText.scpt: tell application id "com.apple.dt.Xcode"
					set windowname to name of window 1
					set docname to word -1 of windowname
					set doc to ""
					repeat with adoc in text documents
					if ((name of adoc as string) is docname) then
					set doc to adoc
					exit repeat
					end if
					end repeat
					
					end tell
					set alltext to text of doc --***
					
					tell application "Xcode"
					set seltext to ""
					set sel to selected character range of doc
					end tell
					set cf to (item 1 of sel)
					set cl to (item 2 of sel)
					if (cl is greater than cf) then
					set seltext to (characters cl through cf) of alltext as string
					end if
					seltext --***
					
					tell application "Xcode"
					set selected character range of doc to {5, 10} -- nyi - maybe someday
					end tell</li>
				<li>processSnippetText.scpt:to processInput(inputString)
					set savedDelimiters to AppleScript's text item delimiters
					set tag to word 1 of inputString
					set b to (length of tag) + 3
					set e to length of inputString
					set paramlist to (characters b thru e of inputString) as string
					set AppleScript's text item delimiters to {"; "}
					set paramItems to every text item of paramlist
					set params to {}
					set AppleScript's text item delimiters to {"|"}
					repeat with param in paramItems
					set split to every text item of param
					set params to params &amp; {{item 1 of split, item 2 of split}}
					end repeat
					set AppleScript's text item delimiters to savedDelimiters
					return {tag, {params}}
					end processInput
					
					on replace(searchString, replaceString)
					tell application "BBEdit"
					replace searchString using replaceString searching in selection of text 1 of text document 1 options {search mode:literal, starting at top:false, wrap around:false, backwards:false, case sensitive:true, match words:false, extend selection:false}
					end tell
					end replace
					
					processInput("@a b|B C; c|D")</li>
			</ul></li>
		</ul></li>
	</ul>
	
	<!-- @marker "Terminal [_terminal]" -->
	<h4 id='_terminal'>Terminal <span class='ttag'>[_terminal]</span></h4><ul>
		<li id='git_slate_module'>UserSlates: Git Slate Module<ul>
			<li>separate UserSlates files Git_module.h/r to facilitate using Git Slates as subslates from multiple process slates</li>
		</ul></li>
		<li id='git_repository_tabs'>Separate Window Tab for Each Repository<ul>
			<li>make per-repository custom color schemes<ul>
				<li>separate windows make it practical to define a project variable and directory within each repository's window</li>
				<li>color schemes allow developer to distinguish between windows</li>
			</ul></li>
			<li>command Shell: New Tab takes a repository name, opens a window with the associated scheme, and sets variable ${proj} and associated path</li>
		</ul></li>
		<li>variable cb for current branch (per repository)</li>
	</ul>
	
	<!-- @marker "BBEdit [_bbedit]" -->
	<h4 id='_bbedit'>BBEdit <span class='ttag'>[_bbedit]</span></h4><ul>
		<li>Take go previous/go next out of Type.</li>
		<li>add target with Run Script build phase: ../BBEdit/BBEdit.install ${TARGET_BUILD_DIR}</li>
		<li>omit Snippet support; moved to CCDev</li>
	</ul>
	
	<!-- @marker "Finder [_finder]" -->
	<h4 id='_finder'>Finder <span class='ttag'>[_finder]</span></h4><ul>
		<li>Preferences: edit and document customization</li>
	</ul>
	
<!-- @marker "7 === Completed" --><p class='tlhead'>&lt;-- Completed</p>
<h2 id='hmark_Completed'>Completed</h2>

	<!-- @marker "Transfer Existing Development Work [completed]" -->
	<h5 id="transferExisting_compl">Transfer Existing Development Work</h5><ul>
		<li>new Git project Support [_cdoc]<ul>
			<li>commit and archive existing project Support; rename to Support_svn</li>
			<li>create <a href="Git.html#tsk_CreateNewRepository">new repository</a>; add file Support_hist.html with simplified history structure</li>
			<li>add files Support.xcworkspace, Support.bbprojectd</li>
			<li>from previous project Support_svn, import existing documentation, excluding history-related files; build and validate</li>
			<li>update existing documentation<ul>
				<li>use class='todo' to mark sections requiring updates</li>
				<li>replace all instances of single quotes inside href tags double quotes<ul>
					<li class='blurb'>because Xcode does not handle single quotes in href tags correctly</li>
				</ul></li>
				<li>add new file Git.html</li>
			</ul></li>
		</ul></li>
		<li>move Accessor's UserSlates into Support [_userSlates]<ul>
			<li class='blurb'>These Slates used by Accessor to provide speech recognition support were previously stored with application Accessor. They are developed as part of each application's workflow, and compiled by Accessor_C9. They will be edited and versioned with any other work being done in their workflow, and compiled from their Support folder by target Accessor.</li>
			<li>document and commit last Accessor_C9 revision of UserSlates</li>
			<li>import active User Slates from project Accessor_C9 to Support/UserSlates; add to workspace Support</li>
			<li>Xcode Source Trees: UserSlates now @ ${HOME}/Dev/Support/UserSlates</li>
		</ul></li>
		<li class='tldate'>[withUpdatedDocs 08/31/2011]</li>
		<li>updates to Xcode Configuration and UserSlates [_xcode]<ul>
			<li>Configuration: Behaviors<ul>
				<li>document: Build Fails: show tab Build; show Log Navigator; navigate to current log</li>
				<li>add Build Generates New Issues: show tab Build; show Issue Navigator; navigate to first new issue</li>
			</ul></li>
			<li>Xcode.r (User Slate)<ul>
				<li>Workaround for Xcode Key Bindings bug 'xckbbug'<ul>
					<li class='blurb'>Key Bindings do not currently work in Xcode (rdar:10029381)</li>
				</ul></li>
				<li>use standard/assistant/version to switch editors</li>
				<li>Accessor: Add Repository; search/find structure; View: Utilities</li>
			</ul></li>
		</ul></li>
		<li class='tldate'>[slate_Xcode4 09/01/2011]</li>
		<li>Initial Documentation of Git Workflow [_git]</li>	
		<li>new git project Punkin [<a href="../Punkin/Punkin_hist.html#Contents">Punkin]</a></li>
		<li class='tldate'>[09/02/2011]</li>
		<li>revise history styles<ul>
			<li>Support_hist.html: add markers; test in BBEdit</li>
			<li>Threads and Timelines (history.css and client files)<ul>
				<li>thread label: colored to stand out and highlight heading lines for threads</li>
				<li>Timeline header: based on existing <span class='mono'>hmark</span>; for sections Active (active planning and coding), Threads (existing and projected threads of development), Current (recording current work), Completed (stuff that has been done)</li>
				<li>update datemark: allows/expects list item</li>
				<li>tlmark: for smaller markers inside lists</li>
			</ul></li>
			<li class='tldate'>[09/07/2011]</li>
			<li>Cdoc history files: standardize; add file template<ul>
				<li>Support, Punkin: history files: standardize; improve formatting</li>
				<li>revise history styles [<a href="#_cdocdev">_cdocdev</a>]</li>
				<li>Support, Punkin histories: standardize; improve formatting [<a href="#_cdocdev">_cdocdev</a>]</li>
				<li>BuildSupport: <a href="Support.html#tsk_NewInstallerTarget">add target</a> Xcode</li>
				<li>add template for history files [<a href="#_xcode">_xcode</a>]</li>
			</ul></li>
		</ul></li>
		<li class='tldate'>[09/20/2011]</li>
		<li>Xcode: automation support; file templates<ul>
			<li>support BBEdit as an External Editor for Xcode</li>
			<li>capitalize, lowercase via Transform submenu</li>
			<li>Xcode subslate Build</li>
			<li>Accessor slate: expand resid_phaseRunScript; add access to resid_edIssues; add go next/previous to resid_BuildAccessor and resid_edIssues</li>
			<li>add empty project BuildSupport at ~/Dev/Support; <a href="Support.html#tsk_NewInstallerTarget">add Xcode target</a> BuildSupport<ul>
				<li>script Xcode.install<ul>
					<li>check exit status, log output</li>
					<li>define and process parameters, adding &lt;Project&gt; argument</li>
					<li>run shunit tests from folder _Tests</li>
					<li>use deprecated buildsource code from previous Support to handle copying files and clean for now</li>
				</ul></li>
				<li>copy Xcode/Templates/FileTemplates to ~/Library/Developer/Xcode/Templates/File Templates<ul>
					<li>use added files template ShellScript.xctemplate - copy of Xcode's default</li>
				</ul></li>
			</ul></li>
			<li>Xcode_C9.r: finish multiple search Slate resid_edSearch; add Slate resid_Panel for use with panel selection window, eg. for Move Focus to Editor... (cmd-J); add Slate resid_XCTerminal; revise resid_Editor</li>
			<li>Initial Template Files<ul>
				<li>rename ShellScript template file and folder<ul>
					<li>rename Other_CC/ShellScript/___FILEBASENAME___.sh to Scripting/ShellScript/___FILEBASENAME___.ksh</li>
					<li>___FILEBASENAME___.ksh: change shebang line</li>
					<li>TemplateInfo.plist: change MainTemplateFile name; add Korn to description and summary</li>	
				</ul></li>
				<li>add file template(s) Cdoc:CdocFile and Cdoc:HistoryFile</li>
			</ul></li>
		</ul></li>
		<li class='tldate'>[09/20/2011]</li>
	</ul>

	<!-- @marker "[end]" -->
<p><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /></p>
<hr class='footer' />
<p class='footer'>Copyright 2011 by C &amp; C Software, Inc. All rights reserved.</p>
<p class='footer'>Confidential and Proprietary.</p>
</body>
</html>
