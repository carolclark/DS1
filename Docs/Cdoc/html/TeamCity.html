<!-- TeamCity.html -->
<!-- Created by Carol Clark on 2016 Nov 28 for repository Support. -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>TeamCity</title>
	<link rel="stylesheet" type="text/css" href="../css/technical.css" />
</head>
<body>
<div class='navhead' id='Top'><table class='navhead'><col class='navhead_c1' /><tr><td>[<a href="../Support/Support.html">Support</a>]</td> <td class='right'>[<a href="#Contents">Contents</a>]</td></tr></table></div>
<h1>TeamCity</h1>

<!-- @topicList "TeamCity" "Contents" -->
	<!-- @topicItem "Installation and Configuration" "#InstallConfig_" "0" "" -->
	<!-- @topicItem "Configure TeamCity Server for Production Use" "#ConfigForProductionUse_" "0" "" -->
	<!-- @topicItem "Moving to Another Server" "#MovingServer_" "0" "" -->
<!-- @/topicList -->

<!-- @marker "InstallConfig_" -->
<h4 id='InstallConfig_'>Installation and Configuration</h4><ul>
	<li>install or check for updates as indicated:<ul>
		<li class="blurb">see <a href="https://confluence.jetbrains.com/display/TCD10/Supported+Platforms+and+Environments">
			Supported Platforms and Environments</a></li>
		<li><a href="Tools.html#_gnutar">gnu-tar</a>; execute with <span class="mono">gtar</span></li>
		<li><a href="Tools.html#_Java">Java</a></li>
		<li><a href="http://dev.mysql.com/doc/connector-j/5.1/en/connector-j-binary-installation.html">Connector/J</a>
			<em># MySQL connector to Java DB</em></li>
		<li><a href="MySQL.html#Contents">MySQL</a></li>
	</ul></li>
	<li>install TeamCity application<ul>
		<li>download from <a href="https://www.jetbrains.com/teamcity/download/">TeamCity downloads</a></li>
		<li>Terminal:<ul>
			<li>cd to directory containing TeamCity archive</li>
			<li>unzip using gnu-tar: <span class="mono">gtar xf &lt;archive&gt;</span></li>
		</ul></li>
		<li>move unzipped file to /Library</li>
	</ul></li>
	<li>Start TeamCity Server<ul>
		<li>open http://localhost.8111; will not show content yet</li>
		<li><span class="mono">cd /Library/TeamCity; bin/runAll.sh start</span><ul>
			<li class="blurb">should show short log in Terminal, TeamCity startup window at localhost:8111</li>
		</ul></li>
	</ul></li>
	<li>TeamCity profile, ui settings<ul>
		<li>user: carolclark; password</li>
		<li>profile page: user name and email</li>
		<li>UISettings: Highlight my changes and investigations: ON; Show date/time in my timezone: turn ON;
		Show all personal builds: turn ON; Add builds triggered by me to favorites: OFF</li>
	</ul></li>
	<li>Autostart TeamCity<ul>
		<li>run target DeveloperTests; Developer_install script copies jetbrains.teamcity.server.plist to /Library/LaunchDaemons<ul>
			<li>see <a href="https://confluence.jetbrains.com/display/TCD6/Autostart+TeamCity+on+Mac">Autostart TeamCity on Mac</a></li>
			<li>restart computer</li>
			<li class="blurb">Safari: localhost:8111 should show TeamCity window</li>
		</ul></li>
	</ul></li>
	<li>Configure BuildServer Data<ul>
		<li>@ Administration &gt; &lt;RootProject&gt; &gt; Parameters: define env.TEAM_CITY_DATA_PATH /Volumes/TeamCity/BuildData</li>
	</ul></li>
</ul>

	<!-- @marker "Configure TeamCity Server for Production Use" -->
	<h4 id='ConfigForProductionUse_'>Configure TeamCity Server for Production Use</h4><ul>

	<li>Initialize MySQL Data Directory<ul>
		<li>from Terminal:<ul>
			<li><span class="mono">cd /usr/local/mysql</span>&nbsp;&nbsp;<em>set directory to MySQL installation</em></li>
			<li><span class="mono">bin/mysqld --initialize-insecure --user=mysql</span>&nbsp;&nbsp;<em>initialize MySQL data directory</em></li>
			<li><span class="mono">,</span>&nbsp;&nbsp;<em>,</em></li>
			<li><span class="mono">,</span>&nbsp;&nbsp;<em>,</em></li>
			<li><span class="mono">,</span>&nbsp;&nbsp;<em>,</em></li>
			<li><span class="mono">,</span>&nbsp;&nbsp;<em>,</em></li>
			<li>use SystemPrefs/MySql to start MySQL server</li>
			<li><span class="mono">mysql -u root --skip-password</span>&nbsp;&nbsp;<em>sign in to MySQL server</em></li>
			<li><span class="mono">ALTER USER 'root'@'localhost' IDENTIFIED BY 'new_password';</span>&nbsp;&nbsp;<em>add password to root user</em></li>
		</ul></li>
	</ul></li>

	<li id="configTeamCityDB">Create and Configure TeamCityDB<ul>
		<li class="mono">create database TeamCityDB collate utf8_bin; (where?)</li>
	</ul></li>


	<li><a href="https://confluence.jetbrains.com/display/TCD10/Installing+and+Configuring+the+TeamCity+Server#InstallingandConfiguringtheTeamCityServer-ConfiguringTeamCityServer">
		Configuring TeamCity Server</a></li>




	<li>download <a href="http://dev.mysql.com/downloads/connector/j/">MySQL JDBC driver</a></li>
	<li>Place mysql-connector-java-*-bin.jar from the downloaded archive into the &lt;TeamCity Data Directory&gt;/lib/jdbc.</li>
	<li>backup dsl configuration</li>
</ul>

<!-- @marker "Moving to Another Server" -->
<h4 id='MovingServer_'>Moving Projects to Another Server</h4><ul>
	<li>make standard TeamCity backups of existing projects</li>
	<li>see <a href="https://confluence.jetbrains.com/display/TCD9/Projects+Import">Project Import</a> to import into new server</li>
</ul>

<!-- MySQL -->
<h3>MySQL</h3>

<p><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
	<br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
	<br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
	<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /></p>
<hr class='footer' />
<p class='footer'>Copyright (c) 2016 C &amp; C Software, Inc. All rights reserved.</p>
</body>
</html>
