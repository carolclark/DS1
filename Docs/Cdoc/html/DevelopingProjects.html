<!-- DevelopingProjects.html -->
<!-- Created by Carol Clark on 12/17/11 for project Support. -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>DevelopingProjects</title>
	<link rel="stylesheet" type="text/css" href="../css/technical.css" />
</head>
<body>
<div class='navhead' id='Top'><table class='navhead'><col class='navhead_c1' /><tr> <td>[<a href="../Support/Support.html">Support</a>]</td> <td >[<a href="History_Support.html#Contents">History</a>]</td><td class='right'>[<a href="#Contents">Contents</a>]</td></tr></table></div>
<h1>Developing Projects</h1>

<!-- @topicList "DevelopingProjects" "Contents" -->
	<!-- @topicGroup "Standards and Conventions" "1" -->
		<!-- @topicItem "Naming Conventions" "#NamingConventions" "0" "" -->
	<!-- @topicSep -->
	<!-- @topicGroup "Configuration" "4" -->
		<!-- @topicItem "System Configuration" "#SystemConfig" "0" "" -->
		<!-- @topicItem "Xcode Project and Target Settings" "#pbxproj" "0" "" -->
	<!-- @topicSep -->
	<!-- @topicGroup "Refactorings and Tasks" "8" -->
		<!-- @topicItem "Projects and Targets" "#Target_" "0" "" -->
		<!-- @topicItem "Interface Builder" "#InterfaceBuilder" "0" "" -->
		<!-- @topicItem "Porting C++ to Objective-C" "#PortingCppToObjC" "0" "" -->
<!-- @/topicList -->

<!-- @marker "Standards and Conventions" -->
<h2>Standards and Conventions</h2>

<!-- @marker "Naming Conventions" -->
<h3>Naming Conventions</h3>
	<!-- @topicList "Naming Conventions" "NamingConventions" -->
		<!-- @topicItem "Controller and Delegate Classes" "#ControllerNDelegateClasses" "0" "" -->
	<!-- @/topicList -->

<!-- @marker "Controller and Delegate Classes" -->
<h4 id='ControllerNDelegateClasses'>Controller and Delegate Classes</h4><ul>
	<li class='blurb'>Apple's recommendation is to name these classes &lt;Name&gt;WindowController, &lt;Name&gt;ApplicationDelegate, and so on. We tried it, and these names are not only long to type, they are frequently enough abbreviated on display to be accessibility and convenience issue, and all the extra verbiage gets in the way of quickly recognizing what the classes are for.</li>
	<li>Application delegate classes: name &lt;Name&gt;App</li>
	<li>Window and View Controller classes: name &lt;Name&gt;WindowC, &lt;Name&gt;ViewC, &lt;Name&gt;SheetC and so on.</li>
</ul>

<!-- @marker "Configuration" -->
<h2>Configuration</h2>

<!-- @marker "System Configuration" -->
<h3 id='SystemConfig'>System Configuration</h3><ul>
	<li>open workspace Support</li>
	<li>build target Developer <span class='future'>CCDev</span></li>
	<li class='expand'>document what it does</li>
</ul>

<!-- @marker "Xcode Project and Target Settings" -->
<h3 id='pbxproj'>Xcode Project and Target Settings</h3><ul>
	<li><b>Project</b><ul>
		<li>start with an empty project and add targets to it</li>
		<li><b>ProjectName</b> for generic project, use Build&lt;ProjectName&gt;</li>
		<li class='depr'><b>Source folder</b> support Source folder that can be shared among multiple projects<ul>
			<li>USER_HEADER_SEARCH_PATHS = ${SRCROOT}/Source/**</li>
		</ul></li>
		<li class='depr'><b>initial target:</b> override Xcode's default behavior to name initial target with project name<ul>
			<li>rename the target's product and its folder inside &lt;TargetName&gt;Build/&lt;</li>
			<li>INFOPLIST_FILE = &lt;TargetName&gt;/&lt;TargetName&gt;-Info.plist</li>
			<li>GCC_PREFIX_HEADER = &lt;TargetName&gt;/&lt;TargetName&gt;-Prefix.pch</li>
		</ul></li>
	</ul></li>
	<li><b>Schemes</b> mark all schemes "shared"</li>
	<li><b>Targets</b><ul>
		<li><b>Test Targets</b> from Cocoa Unit Test Bundle<ul>
			<li>Logic Tests include files for tested code in the target; Application Tests do not</li>
			<li><b>Application Tests</b>: set up tests to run inside Application<ul>
				<li>BUNDLE_LOADER = $(BUILT_PRODUCTS_DIR(?CONFIGURATION_BUILD_DIR))/&lt;ProjectName&gt;.app/Contents/MacOS/&lt;ProjectName&gt;</li>
				<li>TEST_HOST = $(BUNDLE_LOADER)</li>
			</ul></li>
		</ul></li>
		<li><b>Script targets</b> Bundle targets; remove all template build phases except Target Dependencies; delete .pch file; add Run Script build phase<ul>
			<li><b>Cdoc</b> External Target: script <span class='mono'>ccInstallAction</span>; params <span class='mono'>"${SRCROOT}" Cdoc $(ACTION)</span></li>
			<li><b>Doxygen</b> External Target: script <span class='mono'>ccInstallAction</span>; params <span class='mono'>"${SRCROOT}" Doxygend $(ACTION)</span></li>
		</ul></li>
		<li><b>InHouse</b> products installed for InHouse use<ul>
			<li><b>Product</b> set installation location for the target to be istalled<ul>
				<li>INSTALL_PATH = /Applications</li>
				<li>DSTROOT = $(HOME)</li>
			</ul></li>
			<li><b>InHouse</b> script target: xcodebuild install -target &lt;TargetName&gt; -configuration Debug DEPLOYMENT_LOCATION=YES SYMROOT=${HOME}/Library/CCDev/build</li>
		</ul></li>
	</ul></li>
</ul>

<!-- @marker "Refactorings and Tasks" -->
<h2>Refactorings and Tasks</h2>

<!-- @marker "Targets and Build Phases" -->
<h3>Targets and Build Phases</h3>

<!-- @topicList "Projects and Targets" "Target_" -->
	<!-- @topicGroup "Projects" "1" -->
		<!-- @topicItem "Xcode Project Mirrors Files" "#XcodeProjectMirrorsFiles" "0" "" -->
	<!-- @topicSep -->
	<!-- @topicGroup "Create Cocoa Targets" "4" -->
		<!-- @topicItem "New Cocoa Project" "#NewCocoaProject" "0" "" -->
		<!-- @topicItem "Add Unit Testing" "#AddUnitTesting" "0" "" -->
		<!-- @topicItem "Add Target Feature" "#AddTargetFeature" "0" "" -->
	<!-- @topicSep -->
	<!-- @topicGroup "Create Other Targets" "9" -->
		<!-- @topicItem "Add Docs Project" "#AddDocsProject" "0" "" -->
		<!-- @topicItem "Add ccInstall Target" "#AddCcInstallTarget" "0" "" -->
		<!-- @topicItem "Add Cocoa Test Bundle Target" "#AddCocoaTestBundleTarget" "0" "" -->
		<!-- @topicItem "Add Build Script Target" "#AddBuildScriptTarget" "0" "" -->
		<!-- @topicItem "Add Run Script Target" "#AddRunScriptTarget" "0" "" -->
		<!-- @topicItem "Promote Build Phase to Target" "#PromoteRunPhaseToTarget" "0" "" -->
		<!-- @topicItem "Add Doxygen Target" "#AddDoxygenTarget" "0" "" -->
	<!-- @topicSep -->
	<!-- @topicGroup "Target Tasks" "15" -->
		<!-- @topicItem "Rename Target" "#RenameTarget" "0" "" -->
<!-- @/topicList -->

<!-- @marker "Xcode Project Mirrors Files" -->
<h4 id='XcodeProjectMirrorsFiles'>Xcode Project Mirrors Files</h4><pre>
	* *organize source files and resources in folders and mirror them in Xcode*
		* *see <a href="http://akosma.com/2009/07/28/code-organization-in-xcode-projects/">Code Organization in Xcode Projects</a>*
	* in Finder: organize source files and resources in folders
	* in Xcode Project
		* remove existing groups, if any, removing references only
		* add new folder(s) to Xcode project, recursively creating groups for every subfolder
		* remove any added plists from their targets
</pre>

<!-- @marker "New Cocoa Project" -->
<h4 id='NewCocoaProject'>New Cocoa Project</h4><pre>
	* create Project from indicated template
		* *do not add to Workspace file yet*
	* customize project structure
		* reorganize Application Target folder &lt;ApplicationName&gt;
			* reorganize Sources
				* Classes: AppDelegate; Controllers; Models; Helpers
				* OtherSources (*-main.m, *.pch, *-Info.plist)
				* Resources: DataModels; Images.xcassets (created by Xcode); Nibs
					* Nibs/*.lproj folders also contain *-InfoPlist.strings and Credits.rtf
			* apply <a href="#XcodeProjectMirrorsFiles">Xcode Project Mirrors Files</a>
			* update Build Settings for paths to Prefix Header, Info.plist
		* replace AppDelegate
			* new files &lt;Target&gt;/Classes/AppDelegate/&lt;Target&gt;App from Cocoa Application Delegate template
				* check against supplied files AppDelegate, updating template if indicated
			* remove files AppDelegate
			* MainMenu.xib
				* update name and class of Application Delegate object
				* set Application's delegate outlet to the renamed &lt;Target&gt;App
		* reorganize AppTest target folder
			* rename &lt;ApplicationName&gt;Tests to &lt;ApplicationName&gt;_AppTests in target folder, test class, *Info.plist
			* reorganize sources as for Application, but use AppTests instead of Classes
			* apply <a href="#XcodeProjectMirrorsFiles">Xcode Project Mirrors Files</a>
			* rename target &lt;ApplicationName&gt;Tests to &lt;ApplicationName&gt;_AppTests
			* update Build Setting for path to Info.plist
		* replace AppTests file
			* new file &lt;ApplicationName&gt;_AppTests from template
				* check against supplied file &lt;ApplicationName&gt;Tests, updating template if indicated
			* remove files &lt;ApplicationName&gt;Tests
		* edit Schemes
			* add AppTests scheme to visible schemes
			* mark all schemes as "shared"
	* <a href="#AddUnitTesting">add Unit Test target</a> &lt;ApplicationName&gt;Tests
	* <a href="#AddDoxygenTarget">Add Doxygen Target</a>, or include in existing Doxygen target
	* <a href="#ReplaceDefaultWindow">Replace Default Window</a>
</pre>

<!-- @marker "Add Unit Testing" -->
<h4 id='AddUnitTesting'>Add Unit Testing</h4><ul>
	<li class='blurb'>from iPhoneUnitsSample ReadMe: "Important: Application targets with unit tests cannot be built or run using the iPhone Simulator SDK; they can be built and run only using the iPhone Device SDK." The sample produces two copies of the app, one with Unit Tests and one without.</li>
	<li>Add Unit and App Test Targets<ul>
		<li>for each: add a new target from Cocoa Unit Testing Bundle template; mark scheme "shared"; add to &lt;Target&gt; scheme's Test specification</li>
		<li>for App Tests, also:<ul>
			<li>set Build Settings: BUNDLE_LOADER: $(BUILT_PRODUCTS_DIR(?CONFIGURATION_BUILD_DIR))/&lt;Target&gt;.app/Contents/MacOS/&lt;Target&gt;; TEST_HOST: $(BUNDLE_LOADER)</li>
			<li>add test case testAppDelegate (testAppDelegate#)</li>
		</ul></li>
		<li>for Unit Tests, also:<ul>
			<li>edit &lt;Target&gt;LogicTests: use testNothing<span class='blurb'>Xcode may get confused and issue a warning if it doesn't find &lt;Target&gt;LogicTests with at least one test</span></li>
		</ul></li>
	</ul></li>
	<li>set up debugging<ul>
		<li>add Exception breakpoint with action Debugger Command <span class='mono'>log message</span></li>
		<li>add Symbolic breakpoint at -[XCTestCase failWithException:]</li>
	</ul></li>
</ul>

<!-- @marker "Add Target Feature" -->
<h4 id='AddTargetFeature'>Add Target Feature</h4><ul>
	<li><b>Core Data</b><ul>
		<li>add Data Model file</li>
		<li>create new &lt;Target&gt;AppDelegate from private template _ObjectiveC/CocoaClass/NSApplicationDelegate, with option Use Core Data; recover any preexisting code</li>
		<li>for Core Data tests, use private template _ObjectiveC/CocoaTestClass/NSManagedObject; see <a href="http://stackoverflow.com/questions/1849802/how-to-unit-test-my-models-now-that-i-am-using-core-data">Testing Core Data discussion</a></li>
	</ul></li>
</ul>

<!-- @marker "AddDocsProject" -->
<h4 id='AddDocsProject'>Add Docs Project</h4><ul>
	<li class='blurb'>project to build technical and Doxygen targets and contain additional documents as needed</li>
	<li>create new empty project Docs; leave in its own workspace for now</li>
	<li>inside the Docs folder:<ul>
		<li>add empty folders OtherDocuments and Images</li>
		<li>Doxygen<ul>
			<li><a href="#AddCcInstallTarget">Add ccInstall Target</a> Doxygen</li>
			<li>add Doxygen configuration file &lt;WorkspaceName&gt;_doxygen.txt from template</li>
		</ul></li>
		<li>Cdoc<ul>
			<li><a href="#AddCcInstallTarget">Add ccInstall Target</a> Cdoc</li>
			<li>add starter History file html/History_&lt;WorkspaceName&gt;.html from template</li>
		</ul></li>
	</ul></li>
	<li>mark all schemes shared</li>
</ul>

<!-- @marker "Add ccInstall Target" -->
<h4 id='AddCcInstallTarget'>Add ccInstall Target with Tests</h4><pre>
	* *ccInstall is an in-house script for installing groups of files*
	* *ccInstall is normally called by a custom target script at &lt;TargetName&gt;/&lt;TargetName&gt;.ksh*
		* *variants for Doxygen and Cdoc documentation are provided*
	<h6>Target &lt;TargetName&gt;</h6>
	* add External Build System target &lt;TargetName&gt; with configuration:
		* script: ${TARGET_NAME}/${TARGET_NAME}_install.ksh
		* arguments: "${SRCROOT}" ${TARGET_NAME} $(ACTION)
		* directory: "None"
		* Pass Build Settings in Environment: NO
	* add new file &lt;TargetName&gt;/&lt;TargetName&gt;_install.ksh from template
		* use template _Documentation/InstallCdoc, _Documentation/InstallDoxygen, or _Scripting/InstallTarget as indicated
		* make executable (chmod a+x &lt;PathFromRepositoryFolder&gt;/&lt;TargetName&gt;_install.ksh)
	<h6>Target &lt;TargetName&gt;Tests</h6>
</pre>

<!-- @marker "Add Cocoa Test Bundle Target" -->
<h4 id='AddCocoaTestBundleTarget'>Add Cocoa Test Bundle Target</h4><pre>
	* *even for non-Cocoa targets, Cocoa Test Bundle target provides standard testing behavior, including Project &lt; Test menu item and Bots for continuous integration*
	* add Cocoa Unit Testing Bundle target &lt;TargetName&gt;Tests
	* reorganize files
		* remove pch file, en.lproj folder
		* rename required Cocoa tests file to RequiredCocoaTests.m
		* rename folder &lt;TargetName&gt;Tests to CocoaTestBundle; move to folder &lt;TargetName&gt;
		* Build Settings
			* Precompile Prefix Header: no; remove Precompiled Header path
			* remove en.lproj folder from Copy Build Sources build phase
			* update path to Info.plist file
		* apply <a href="#XcodeProjectMirrorsFiles">Xcode Project Mirrors Files</a>
		* edit RequiredCocoaTests.m
			* replace file header with snippet
			* use @import for XCTest
			* remove setUp and tearDown methods
			* replace test with <span class='mono'>- (void)testRequiredEmpty { }</span>
	* add Run Script build phase: &lt;TargetName&gt;/&lt;TargetName&gt;_install.ksh "${SRCROOT}" &lt;TargetName&gt; -t
	* add shunit test files in folder &lt;TargetName&gt;/_Tests
	* add &lt;TargetName&gt; as a dependency; add &lt;TargetName&gt;Tests as a test for scheme &lt;TargetName&gt;
</pre>

<!-- @marker "Add Build Script Target" -->
<h4 id='AddBuildScriptTarget'>Add Build Script Target</h4><ul>
	<li class='blurb'>Motivation: make compiled AppleScripts available for use:<ul>
		<li>add a target &lt;Target&gt;Scripts to compile &lt;name&gt;.applescript files in folder AppleScripts into a bundle of .scpt files at ${CCDev}/build/&lt;Target&gt;/&lt;Target&gt;Scripts.bundle</li>
		<li>expand existing External target &lt;Target&gt; to copy the compiled scripts to the desired location</li>
	</ul></li>
	<li>target &lt;Target&gt;Scripts<ul>
		<li>add Bundle target &lt;Target&gt;Scripts; add AppleScripts to the Compile Sources build phase</li>
		<li>folder /&lt;Workspace&gt;/&lt;Project&gt;/&lt;Target&gt;Scripts<ul>
			<li>move file &lt;Target&gt;Scripts-Info.plist to /&lt;Workspace&gt;/&lt;Project&gt;/&lt;Target&gt;/plist</li>
			<li>remove folder /&lt;Workspace&gt;/&lt;Project&gt;/&lt;Target&gt;Scripts with its remaining contents</li>
			<li>update Build Setting Info.plist file to match</li>
		</ul></li>
		<li>Build Settings: set Per-Configuration Built Products Path to ${CCDev}/build/&lt;Workspace&gt;/&lt;Project&gt;/&lt;Target&gt;</li>
	</ul></li>
	<li>file &lt;Target&gt;_install.ksh<ul>
		<li>update getSubtargetDestination, prepareFileOperation, cleanFiles accordingly; see Support/BuildSupport/Developer_install.ksh</li>
	</ul></li>
</ul>

<!-- @marker "Add Run Script Target" -->
<h4 id='AddRunScriptTarget'>Add Run Script Target</h4><ul>
	<li>create new Aggregate target<ul>
		<li>mark scheme as shared</li>
		<li>add Run Script build phase</li>
	</ul></li>
</ul>

<!-- @marker "Promote Run Phase to Target" -->
<h4 id='PromoteRunPhaseToTarget'>Promote Run Phase to Target</h4><ul class='blurb'>
		<li>make a Run Script build phase into its own target</li>
		<li>use to separately control the steps in building a product</li>
	</ul><ul>
		<li><a href="#AddRunScriptTarget">Add Run Script Target</a></li>
		<li>copy script from its build phase in the old target to the new Run Script phase in the new target</li>
		<li>in the original target's scheme, add the new target to the target list of the Build section</li>
		<li>test build</li>
		<li>in the original target, remove the Run Script build phase that has been replaced</li>
	</ul>

<!-- @marker "Add Doxygen Target" -->
<h4 id='AddDoxygenTarget'>Add Doxygen Target</h4><ul>
	<li>add Run Script build phase or <a href="#AddRunScriptTarget">target</a>: doxygenBuild &lt;ProjectName&gt;</li>
	<li>add file &lt;Project&gt;.doxygen from template; set parameters as indicated, using Dev/Support/Default.doxygen as a reference</li>
</ul>

<!-- @marker "RenameTarget" -->
<h4 id='RenameTarget'>Rename Target</h4><pre>
	* rename target, its corresponding folder, and its Xcode group
	* for Cocoa targets, also:
		* [rename *-info.plist and *.pch files; update their pointers in Settings]
		* edit Settings: Bundle Loader for AppTest target
	* rename scheme(s)
	* test new scheme(s)
	* close and reopen Xcode project
</pre>

<!-- @marker "Interface Builder" -->
<h2>Interface Builder</h2>
<!-- @topicList "Interface Builder" "InterfaceBuilder" -->
	<!-- @topicItem "Remove IB Outlet" "#RemoveIBOutlet" "0" "" -->
	<!-- @topicItem "Rename IB Outlet" "#RenameIBOutlet" "0" "" -->
	<!-- @topicItem "Rename IB Object" "#RenameIBObject" "0" "" -->
	<!-- @topicItem "Deprecate IB Object" "#DeprecateIBObject" "0" "" -->
	<!-- @topicItem "Remove Deprecated IB Object" "#RemoveDeprecatedIBObject" "0" "" -->
	<!-- @topicItem "Move IB Object" "#MoveIBObject" "0" "" -->
	<!-- @topicItem "Replace Default Window" "#ReplaceDefaultWindow" "0" "" -->
	<!-- @topicItem "Add Sheet" "#AddSheet" "0" "" -->
	<!-- @topicItem "Add Table View" "#AddTableView" "0" "" -->
	<!-- @topicGroup "" "10" -->
<!-- @/topicList -->

<!-- @marker "Remove IB Outlet" -->
<h4 id='RemoveIBOutlet'>Remove IB Outlet</h4><ul>
	<li>ensure that the IBOutlet property, and method if applicable, are not accessed in code</li>
	<li>in Interface Builder, delete any outlet connections</li>
	<li>remove all occurrences of the IBOutlet variable in code</li>
</ul>

<!-- @marker "Rename IB Outlet" -->
<h4 id='RenameIBOutlet'>Rename IB Outlet</h4><ul>
	<li>duplicate the IBAction's declaration and method; rename copies to the new name</li>
	<li>for each IBAction outlet connected to the original method, reconnect outlet to the new method</li>
	<li>apply <a href="#RemoveIBOutlet">Remove IB Outlet</a> to the original variable name</li>
</ul>

<!-- @marker "Rename IB Object" -->
<h4 id='RenameIBObject'>Rename IB Object</h4><ul>
	<li>in Interface Builder's hierarchical list, rename the object</li>
	<li>apply <a href="#RenameIBOutlet">Rename IB Outlet</a> as indicated to rename IBOutlet connections to the renamed object</li>
</ul>

<!-- @marker "Deprecate IB Object" -->
<h4 id='DeprecateIBObject'>Deprecate IB Object</h4><ul>
	<li>AppTest for presence of existing expected IBOutlets</li>
	<li>for each outlet of existing object, apply <a href="#RenameIBOutlet">Rename IB Outlet</a></li>
</ul>

<!-- @marker "Remove Deprecated IB Object" -->
<h4 id='RemoveDeprecatedIBObject'>Remove Deprecated IB Object</h4><ul>
	<li>for each outlet in deprecated IB object, apply <a href="#RemoveIBOutlet">Remove IB Outlet</a></li>
	<li>remove the original IB object from its xib file</li>
</ul>

<!-- @marker "Move IB Object" -->
<h4 id='MoveIBObject'>Move IB Object</h4><ul>
	<li class='blurb'>replace existing IB object with a identical/similar one in a different .xib file</li>
	<li>apply <a href="#DeprecateIBObject">DeprecateIBObject</a> to the existing object</li>
	<li>create replacement IB object in a newly-created or existing xib file</li>
	<li>for each outlet of existing object<ul>
		<li>create a corresponding outlet (using original name) in the new object</li>
		<li>AppTest for presence of new expected IBOutlets</li>
	</ul></li>
	<li>apply <a href="#RemoveDeprecatedIBObject">Remove Deprecated IB Object</a> to original object</li>
</ul>

<!-- @marker "Replace Default Window" -->
<h4 id='ReplaceDefaultWindow'>Replace Default Window</h4><ul>
	<li class='blurb'>replace default window from a MainMenu template file with a new NSWindowController and xib file</li>
	<li>apply <a href="#DeprecateIBObject">DeprecateIBObject</a> to the existing MainMenu.xib window</li>
	<li>generate new NSWindowController and xib from private Objective-C NSWindowController template</li>
	<li>remove "Controller" from name of xib</li>
	<li>in the deprecated window, uncheck Visible at Launch</li>
	<li>in AppDelegate: display new window<ul>
		<li>snippet windowControllerProperty#: add @property for the new WindowController; add -(IBAction)newDocument:(id)sender to create WindowController and open window</li>
		<li>applicationDidFinishLaunching: <span class='mono'>[self newDocument:self];</span></li>
		<li>confirm window is displayed; AppTest for delegate.winController, delegate.winController.window not nil</li>
	</ul></li>
	<li>for each outlet of deprecated object<ul>
		<li>create a corresponding outlet (using outlet's original name) for the new window</li>
		<li>AppTest for presence of new expected IBOutlets</li>
	</ul></li>
	<li>apply <a href="#RemoveDeprecatedIBObject">Remove Deprecated IB Object</a> to original MainMenu.xib window</li>
</ul>

<!-- @marker "Add Sheet" -->
<h4 id='AddSheet'>Add Sheet</h4><ul>
	<li>add code (snippet <span class='mono'>sheet</span>; input is capitalized title):<ul>
		<li>IBAction close&lt;Title&gt;Sheet -- <span class='mono'>[NSApp endSheet:self.fileImagesSheet];</span></li>
		<li>add <span class='mono'>- (void)didEnd&lt;Title&gt;Sheet:(NSWindow *)sheet returnCode:(NSInteger)returnCode contextInfo:(void *)contextInfo</span> with code <span class='mono'>[sheet orderOut:self];</span></li>
		<li>IBAction show&lt;Title&gt;Sheet:<span class='mono'>[NSApp beginSheet:self.fileImagesSheet modalForWindow:self.view.window modalDelegate:self didEndSelector:@selector(didEnd&lt;Title&gt;Sheet:returnCode:contextInfo:) contextInfo:nil];</span></li>
	</ul></li>
	<li>Sheet Nib: add a window of class NSPanel to nib; set Identity: Label to &lt;title&gt;Sheet; deselect Visible at Launch; add referencing outlet &lt;title&gt;Sheet of File's Owner</li>
	<li>Close button: add a close button; connect action to close&lt;Title&gt;Sheet</li>
	<li>to activate sheet, add user interface element with action connected to show&lt;Title&gt;Sheet</li>
</ul>

<!-- @marker "Add Table View" -->
<h4 id='AddTableView'>Add Table View</h4><ul>
	<li>in Owner's source (snippet <span class='mono'>tableView</span>):<ul>
		<li>adopt NSTableViewDataSource and NSTableViewDelegate</li>
		<li>implement dataSource method numberOfRowsInTableView:</li>
		<li>implement delegate method tableView:viewForTableColumn:tableColumn:row</li>
	</ul></li>
	<li>in nib view:<ul>
		<li>add NSTableView; set column count to 1; connect View outlet, delegate, dataSource to Owner</li>
		<li><a href="#connectColumn">connect up</a> the column</li>
	</ul></li>
</ul>
<h6 id='connectColumn'>to connect up a column:</h6><ul>
	<li>set Heading; add view of type NSTableCellView or a single NSView subclass; set matching cell and column identifiers</li>
</ul>

<!-- @marker "Porting C++ to Objective-C" -->
<h2>Porting C++ to Objective-C</h2>

<!-- @topicList "Porting C++ to Objective-C" "PortingCppToObjC" -->
	<!-- @topicItem "Porting Overview" "#PortingOverview" "0" "" -->
		<!-- @topicItem "Porting: Naming Conventions" "#PortingNamingConventions" "1" "" -->
	<!-- @topicGroup "" "3" -->
	<!-- @topicItem "Deimplement Method" "#DeimplementMethod" "0" "" -->
	<!-- @topicItem "Import C++ Class" "#ImportCppClass" "0" "" -->
	<!-- @topicItem "Wrap C++ Class with Objective-C" "#WrapCppClassWithObjC" "0" "" -->
<!-- @/topicList -->

<!-- @marker "Porting Overview" -->
<h4 id='PortingOverview'>Porting Overview</h4><ul>
	<li>Motivation<ul>
		<li>For Mac development, C++ is being replaced by Cocoa with Objective-C.</li>
		<li>Xcode supports and we consistently use a testing framework for Objective-C, but not for C++.</li>
		<li>C++ code is incompatible with Objective-C Automatic Reference Counting.</li>
	</ul></li>
	<li>AccessorC9<ul>
		<li>These techniques are intended for use in porting C++ code from AccessorC9 to its Cocoa version Accessor. We exploit some characteristics of AccessorC9 in this process.<ul>
			<li>AccessorC9 code is contained in namespace AccessLib, alias <span class='mono'>al</span>. ObjC objects &lt;ClassCP&gt; are used to wrap C++ objects &lt;al::Class&gt;.</li>
			<li>AccessorC9 class al::Host was intended to support polymorphism for executable type and context. al::Host became bottleneck access point to the Application, Window, and SlateManager classes. We now exploit those aspects to provide an access to application-level Objective-C classes from C++ code.</li>
		</ul></li>
	</ul></li>
	<li>As much as possible, we will wrap rather than change existing code until the initial import is complete.</li>
</ul>

<!-- @marker "Porting: Naming Conventions" -->
<h5 id='PortingNamingConventions'>Porting: Naming Conventions</h5><ul>
	<li>Original C++ files for class &lt;Class&gt; are named &lt;Class&gt;_AL.cp/h (or &lt;Class&gt;_C9.cp/h). These are initially imported as is. The implementation file may later be renamed to use extension .mm to enable use of Objective-C code.</li>
	<li>Files for an Objective-C class that wraps the class in files &lt;Class&gt;_AL.cp/h are named &lt;Class&gt;.mm/h. The class itself is temporarily named &lt;Class&gt;CP, since otherwise the compiler could sometimes confuse &lt;Class&gt; with al::&lt;Class&gt;.</li>
	<li>Pure Objective-C classes are in files named &lt;Class&gt;.m/h. Ultimately, pure Objective-C classes will replace all C++ and Objective-C++ classes.</li>
</ul>

<!-- @marker "Deimplement Method" -->
<h4 id='DeimplementMethod'>Deimplement Method</h4><ul>
	<li class='blurb'>use to mark and disable a method that is not yet fully implemented</li>
	<li>add C++ macro _NotYetImplemented_, which always causes an assertion failure, to the beginning of the method</li>
	<li>comment and comment out code as indicated</li>
</ul>

<!-- @marker "Import C++ Class" -->
<h4 id='ImportCppClass'>Import C++ Class</h4><ul>
	<li>copy the existing class files directly into the project's source folder; add new files to project and relevant targets</li>
	<li>make it compile, using these techniques is indicated:<ul>
		<li>make <b>minor</b> editing changes, such as renaming parameters and/or variables named <span class='mono'>id</span></li>
		<li>for code requiring significant change, apply <a href="#DeimplementMethod">Deimplement Method</a></li>
		<li>for missing #included files, either:<ul>
			<li>add the files, or</li>
			<li>comment out the #include; apply <a href="#DeimplementMethod">Deimplement Method</a> as needed</li>
		</ul></li>
	</ul></li>
	<li>compile and test</li>
</ul>

<!-- @marker "Wrap C++ Class with Objective-C" -->
<h4 id='WrapCppClassWithObjC'>Wrap C++ Class with Objective-C</h4><ul>
	<li class='blurb'>based on <a href="http://robnapier.net/blog/wrapping-c-take-2-1-486">Wrapping C++</a></li>
	<li>create new file &lt;Class&gt;.mm using CPPWrapper template - file also contains starter code for files &lt;Class&gt;.h, &lt;Class&gt;Test.mm/h</li>
	<li>create new empty files &lt;Class&gt;.h, &lt;Class&gt;Test.mm/h; move starter code into the new files</li>
	<li>add new files to project and relevant targets; compile and test</li>
</ul>

<p><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /></p>
<hr class='footer' />
<p class='footer'>Copyright 2011-14 C &amp; C Software, Inc. All rights reserved.</p>
<p class='footer'>Confidential and Proprietary.</p>
</body>
</html>
